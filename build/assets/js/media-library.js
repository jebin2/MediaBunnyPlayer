import{dbHelper}from"./indexeddb-helper.js";const NOTIFICATION_DURATION=4e3;export function showNotification(e,t="info"){const a=document.getElementById("notification-container");if(!a)return;const i=document.createElement("div");i.className=`notification notification--${t}`,i.setAttribute("role","status");const n=document.createElement("span");n.className="notification__icon",n.textContent="success"===t?"✅":"error"===t?"❌":"⏳";const o=document.createElement("span");o.className="notification__message",o.textContent=e,i.appendChild(n),i.appendChild(o),a.appendChild(i),setTimeout(()=>{i.style.animation="slideOutRight 0.3s ease-out",setTimeout(()=>i.remove(),300)},4e3)}export async function updateMediaLibraryCounts(){try{const e=await dbHelper.getAllMediaByType("video"),t=await dbHelper.getAllMediaByType("audio"),a=await dbHelper.getAllMediaByType("image");updateTabCount("videos",e.length),updateTabCount("audio",t.length),updateTabCount("images",a.length)}catch(e){console.error("Failed to update media library counts:",e)}}function updateTabCount(e,t){const a=document.querySelector(`[data-tab="${e}"] .tab-count`);a&&(a.textContent=t)}document.addEventListener("DOMContentLoaded",async()=>{try{await dbHelper.init(),await updateMediaLibraryCounts()}catch(e){console.error("Failed to initialize media library:",e),showNotification("❌ Failed to initialize media library","error")}});