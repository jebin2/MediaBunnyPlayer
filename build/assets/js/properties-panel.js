export class PropertiesPanel{constructor(){this.container=document.getElementById("properties-panel"),this.emptyState=document.getElementById("properties-empty-state"),this.contentContainer=document.getElementById("properties-content"),this.tabBar=document.getElementById("properties-tab-bar"),this.btnInfo=document.getElementById("tab-btn-info"),this.btnSettings=document.getElementById("tab-btn-settings"),this.contentInfo=document.getElementById("tab-content-info"),this.contentSettings=document.getElementById("tab-content-settings"),this.init()}init(){this.btnInfo&&this.btnInfo.addEventListener("click",()=>this.switchTab("info")),this.btnSettings&&this.btnSettings.addEventListener("click",()=>this.switchTab("settings"))}switchTab(t){"info"===t?(this.btnInfo.classList.add("active"),this.btnSettings.classList.remove("active"),this.contentInfo.classList.add("active"),this.contentSettings.classList.remove("active")):"settings"===t&&(this.btnSettings.classList.add("active"),this.btnInfo.classList.remove("active"),this.contentSettings.classList.add("active"),this.contentInfo.classList.remove("active"))}update(t,e={}){console.log(`PropertiesPanel update: ${t}`,e),"none"!==t?(this.showContent(),this._updateMetadata(e),"library"===t?(this.switchTab("info"),this._toggleSettings(!1)):"timeline"===t&&(this.btnSettings.classList.contains("active")||this.btnInfo.classList.contains("active")||this.switchTab("info"),this._toggleSettings(!0))):this.showEmptyState()}_updateMetadata(t){const e=(t,e)=>{const n=document.getElementById(t);n&&(n.textContent=e||"-","info-path"===t&&(n.title=e||""))};e("info-name",t.name),e("info-type",t.type),e("info-duration",t.duration),e("info-resolution",t.resolution),e("info-path",t.path)}_toggleSettings(t){t?this.btnSettings.style.display="flex":(this.btnSettings.style.display="none",this.btnSettings.classList.contains("active")&&this.switchTab("info"))}update(t,e={}){console.log(`PropertiesPanel update: ${t}`,e),"none"!==t?(this.showContent(),this._updateMetadata(e),"library"===t?(this.switchTab("info"),this._toggleSettings(!1)):"timeline"===t&&(this.btnSettings.classList.contains("active")||this.btnInfo.classList.contains("active")||this.switchTab("info"),this._toggleSettings(!0))):this.showEmptyState()}_updateMetadata(t){const e=(t,e)=>{const n=document.getElementById(t);n&&(n.textContent=e||"-","info-path"===t&&(n.title=e||""))};e("info-name",t.name),e("info-type",t.type),e("info-duration",t.duration),e("info-resolution",t.resolution),e("info-path",t.path)}_toggleSettings(t){t?this.btnSettings.style.display="flex":(this.btnSettings.style.display="none",this.btnSettings.classList.contains("active")&&this.switchTab("info"))}update(t,e={}){console.log(`PropertiesPanel update: ${t}`,e),"none"!==t?(this.showContent(),this._updateMetadata(e),"library"===t?(this.switchTab("info"),this._toggleSettings(!1)):"timeline"===t&&(this.btnSettings.classList.contains("active")||this.btnInfo.classList.contains("active")||this.switchTab("info"),this._toggleSettings(!0))):this.showEmptyState()}_updateMetadata(t){const e=(t,e)=>{const n=document.getElementById(t);n&&(n.textContent=e||"-","info-path"===t&&(n.title=e||""))};e("info-name",t.name),e("info-type",t.type),e("info-duration",t.duration),e("info-resolution",t.resolution),e("info-path",t.path)}_toggleSettings(t){t?this.btnSettings.style.display="flex":(this.btnSettings.style.display="none",this.btnSettings.classList.contains("active")&&this.switchTab("info"))}showContent(){this.emptyState&&(this.emptyState.style.display="none"),this.contentContainer&&(this.contentContainer.style.display="flex")}showEmptyState(){this.emptyState&&(this.emptyState.style.display="flex"),this.contentContainer&&(this.contentContainer.style.display="none")}}document.addEventListener("DOMContentLoaded",()=>{window.propertiesPanel=new PropertiesPanel});