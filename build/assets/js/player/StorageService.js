export class StorageService{constructor(){this.KEYS={PLAYLIST:"mediabunny_playlist",PLAYBACK_STATE:"mediabunny_playback_state"}}savePlaylist(t){try{const e=t.map(t=>t.isLocal?{...t,url:"",needsReload:!0}:t);localStorage.setItem(this.KEYS.PLAYLIST,JSON.stringify(e))}catch(t){console.error("Failed to save playlist:",t)}}loadPlaylist(){try{const t=localStorage.getItem(this.KEYS.PLAYLIST);return t?JSON.parse(t):[]}catch(t){return console.error("Failed to load playlist:",t),[]}}savePlaybackState(t,e){try{const a={index:t,time:e,timestamp:Date.now()};localStorage.setItem(this.KEYS.PLAYBACK_STATE,JSON.stringify(a))}catch(t){console.error("Failed to save playback state:",t)}}loadPlaybackState(){try{const t=localStorage.getItem(this.KEYS.PLAYBACK_STATE);return t?JSON.parse(t):null}catch(t){return console.error("Failed to load playback state:",t),null}}clear(){localStorage.removeItem(this.KEYS.PLAYLIST),localStorage.removeItem(this.KEYS.PLAYBACK_STATE)}}