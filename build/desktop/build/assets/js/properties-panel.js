class PropertiesPanel{constructor(){this.panel=document.getElementById("properties-panel"),this.content=document.querySelector(".properties-panel__content"),this.emptyState=document.querySelector(".properties-panel__empty-state"),this.clipInfoSection=document.getElementById("prop-clip-info"),this.nameField=document.getElementById("prop-clip-name"),this.startTimeField=document.getElementById("prop-clip-start"),this.durationField=document.getElementById("prop-clip-duration"),this.typeField=document.getElementById("prop-clip-type"),this.init()}init(){window.addEventListener("timeline-selection-changed",e=>this.onSelectionChanged(e.detail)),console.log("PropertiesPanel initialized")}onSelectionChanged({selectedClipIds:e}){if(e&&0!==e.length)if(1===e.length){const t=e[0];let i=null;window.clipManager&&(i=window.clipManager.getClip(t)),this.showClipDetails(i)}else this.showMultiSelectState(e.length);else this.showEmptyState()}showClipDetails(e){e&&(this.content&&(this.content.style.display="block"),this.emptyState&&(this.emptyState.style.display="none"),this.nameField&&(this.nameField.value=e.name||"Untitled",this.nameField.disabled=!1),this.startTimeField&&(this.startTimeField.value=this.formatTime(e.startTime),this.startTimeField.disabled=!1),this.durationField&&(this.durationField.value=this.formatTime(e.duration),this.durationField.disabled=!1),this.typeField&&(this.typeField.textContent=e.type.toUpperCase()))}showMultiSelectState(e){this.content&&(this.content.style.display="block"),this.emptyState&&(this.emptyState.style.display="none"),this.nameField&&(this.nameField.value=`${e} items selected`,this.nameField.disabled=!0),this.startTimeField&&(this.startTimeField.value="-",this.startTimeField.disabled=!0),this.durationField&&(this.durationField.value="-",this.durationField.disabled=!0),this.typeField&&(this.typeField.textContent="MIXED")}showEmptyState(){this.content&&(this.content.style.display="none"),this.emptyState&&(this.emptyState.style.display="flex")}formatTime(e){return e.toFixed(2)+"s"}}document.addEventListener("DOMContentLoaded",()=>{window.propertiesPanel=new PropertiesPanel});export default window.propertiesPanel;